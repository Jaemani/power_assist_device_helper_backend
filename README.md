#### [API - Swagger](https://app.swaggerhub.com/apis/Jaemani/Soorisoori/1.0.0)
#### [API ëª…ì„¸ì„œ(ë¹„ê°œë°œììš©)](#api)
#### [MongoDB Schema ëª…ì„¸ì„œ](#db)

# <a name="top"></a>ğŸ›  ìˆ˜ë¦¬ìˆ˜ë¦¬ ë§ˆìˆ˜ë¦¬ â€“ ì „ë™ë³´ì¥êµ¬ ìˆ˜ë¦¬ì´ë ¥ ê´€ë¦¬ ì‹œìŠ¤í…œ

<div align="center">

**2025 Kakao [Tech for Impact](https://techforimpact.io/) ì°¸ì—¬ í”„ë¡œì íŠ¸**  
ì „ë™ë³´ì¥êµ¬ ì‚¬ìš©ìì˜ ì´ë™ê¶Œ ë³´ì¥ì„ ìœ„í•œ  
**QR ê¸°ë°˜ ìˆ˜ë¦¬ ì´ë ¥ ê´€ë¦¬ ì‹œìŠ¤í…œ**

</div>

---

## ğŸ§© ë¬¸ì œ ì •ì˜

ì „ë™ë³´ì¥êµ¬(ì „ë™íœ ì²´ì–´, ì „ë™ìŠ¤ì¿ í„° ë“±)ì˜ ìˆ˜ë¦¬ëŠ”  
â‘  ì¢…ì´ë¬¸ì„œ, êµ¬ë‘ ì „ë‹¬ ìœ„ì£¼ë¡œ ì´ë£¨ì–´ì§€ê³  ìˆê³   
â‘¡ ìˆ˜ë¦¬ ì´ë ¥ì´ ê¸°ê´€, ì‚¬ìš©ì, ìˆ˜ë¦¬ê¸°ì‚¬ ê°„ì— ê³µìœ ë˜ì§€ ì•Šìœ¼ë©°  
â‘¢ ìˆ˜ë¦¬ ë‚´ì—­ì´ ì¶•ì ë˜ì§€ ì•Šì•„ ë°˜ë³µì ì¸ ê³ ì¥ì´ ë°œìƒí•˜ê³  ìˆìŒ.

**ê²°ê³¼ì ìœ¼ë¡œ ì´ë™ê¶Œ ì¹¨í•´, ë³µì§€ì˜ˆì‚° ë¹„íš¨ìœ¨, ì±…ì„ì†Œì¬ ë¶ˆë¶„ëª…** ë“±ì˜ ë¬¸ì œê°€ ë°œìƒí•˜ê³  ìˆìŒ.

---

## ğŸ’¡ í•´ê²°ì±…

**ìˆ˜ë¦¬ìˆ˜ë¦¬ ë§ˆìˆ˜ë¦¬**ëŠ” ë‹¤ìŒê³¼ ê°™ì€ í•´ê²°ì±…ì„ ì œê³µí•©ë‹ˆë‹¤:

- QR ì½”ë“œë¥¼ í†µí•´ ì¥ë¹„ ê³ ìœ  ì‹ë³„ ë° ìˆ˜ë¦¬ ì´ë ¥ ì¡°íšŒ
- ì‚¬ìš©ì / ìˆ˜ë¦¬ê¸°ì‚¬ / ê¸°ê´€ ê´€ë¦¬ì ê°ê°ì˜ ê´€ì ì—ì„œ ì„¤ê³„ëœ í™”ë©´
- ìˆ˜ë¦¬ í•­ëª© ì²´í¬ â†’ ìˆ˜ë¦¬ì¼ì ìë™ê¸°ë¡ â†’ ë³µì§€ê´€ í†µê³„ ì—°ë™
- ìˆ˜ë¦¬ë¹„ ì˜ˆì‚° ì‚°ì • ë° ë³´ì¦ ì—¬ë¶€ í™•ì¸ ê°€ëŠ¥

> ìˆ˜ë¦¬ê¸°ì‚¬ì˜ ì‚¬ìš© í¸ì˜ì„±ì„ ë†’ì´ê¸° ìœ„í•´ **ê¸°ë¡ ë¶€ë‹´ ìµœì†Œí™”**,  
> ì‚¬ìš©ìì—ê²ŒëŠ” **ì§ê´€ì ì¸ ì´ë ¥ í™•ì¸ UI** ì œê³µ

---

## ğŸ–¥ ì‹œìŠ¤í…œ êµ¬ì„±ë„

- **ì‚¬ìš©ì**: ë‚´ ì¥ë¹„ì˜ QRì½”ë“œë¥¼ ìŠ¤ìº”í•´ ìˆ˜ë¦¬ì´ë ¥ ì¡°íšŒ  
- **ìˆ˜ë¦¬ê¸°ì‚¬**: QRì„ ìŠ¤ìº”í•˜ì—¬ ìˆ˜ë¦¬ í•­ëª© ì²´í¬ â†’ ìë™ ì €ì¥  
- **ë³µì§€ê´€**: ì „ì²´ í†µê³„ ì¡°íšŒ ë° Excel ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ ì œê³µ ì˜ˆì •  
- **ì¥ë¹„ë³„ ì´ë ¥**ì€ MongoDBì— ì €ì¥ë˜ë©°, ê° ì—­í• ë³„ ê¶Œí•œì— ë”°ë¼ ì ‘ê·¼ì´ ì œí•œë¨

---

## ğŸ”§ ì‚¬ìš© ê¸°ìˆ 

- Frontend: Flutter Web + Firebase Hosting
- Backend: Next.js App Router + MongoDB
- Authentication: Firebase ì „í™”ë²ˆí˜¸ ê¸°ë°˜ SMS ì¸ì¦
- Device Recognition: `uuidv4` ê¸°ë°˜ QR ì½”ë“œ ìƒì„±
- Deploy: ìì²´ ì„œë²„ (AWS ì´ì „ ê³„íš)

---

## ğŸ—“ ì§„í–‰ í˜„í™©

- âœ… ìˆ˜ë¦¬ ë‚´ì—­ ì…ë ¥ ë° ì €ì¥ ê¸°ëŠ¥ êµ¬í˜„  
- âœ… QR ìŠ¤ìº” ë° ì¥ë¹„ë³„ ì´ë ¥ í™•ì¸ ê¸°ëŠ¥  
- âœ… ì¸ì¦ ë° ê¶Œí•œ ë¶„ë¦¬ êµ¬í˜„
- âœ… ë³µì§€ê´€ê³¼ ì—°ê³„í•˜ì—¬ ì „ë™ë³´ì¥êµ¬ í…ŒìŠ¤íŠ¸ ì‚¬ìš©ì í™•ë³´, QR ì´ë¯¸ì§€ ìƒì„± ë° ìŠ¤í‹°ê±° ì œì‘
- ğŸ”„ ë³µì§€ê´€ ì‹¤ì‚¬ìš© í…ŒìŠ¤íŠ¸ ë° í”¼ë“œë°± ë°˜ì˜ ì¤‘  
- ğŸ”„ ë³„ë”°ëŸ¬ê°€ì í”„ë¡œì íŠ¸ì™€ ì—°ê³„ ì˜ˆì • (ì‚¬ê³  ê°ì§€ â†’ ìˆ˜ë¦¬ ì—°ë™)

---

## ğŸ‘¤ íŒ€ì› ì—­í• 

| ì´ë¦„ | ì—­í•  |
|------|------|
| ë°•ìœ ë¹ˆ | PM |
| ë°•í˜„ì¤€ | UI/UX |
| ì´ì¢…ì¤€ | Frontend |
| ì¡°ì„±í˜„ | Backend |
| ì´ì¬ë§Œ | Backend |

---

## ğŸ› í˜‘ë ¥ ê¸°ê´€

- ì„±ë™ì¥ì• ì¸ì¢…í•©ë³µì§€ê´€  
- ë³„ë”°ëŸ¬ê°€ì

---
## ğŸŒ ì—°ê³„ íŒŒíŠ¸ë„ˆ â€“ [ë³„ë”°ëŸ¬ê°€ì](https://starpickers.imweb.me/)

> **(ì£¼)ë³„ë”°ëŸ¬ê°€ì**ëŠ” AIoT ê¸°ë°˜ ëª¨ë¹Œë¦¬í‹° ì•ˆì „ ì†”ë£¨ì…˜ ê¸°ì—…ìœ¼ë¡œ,  
> **ìš´ì „ ìŠµê´€ ë¶„ì„**, **ì‚¬ê³  íƒì§€ ë° ê²€ì¦ ëª¨ë¸**, **ì‚¬íšŒì  ë¹„ìš© ì ˆê°**ì„ ìœ„í•œ ê¸°ìˆ ì„ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤.

ì „ë™ë³´ì¥êµ¬, ì´ë¥œì°¨, ë†ê¸°ê³„ ë“± ë‹¤ì–‘í•œ ì´ë™ìˆ˜ë‹¨ì— ë¶€ì°© ê°€ëŠ¥í•œ ëª¨ì…˜ ì„¼ì„œë¥¼ í†µí•´  
**ìš´ì „ìì˜ ì•ˆì „ ì ìˆ˜ ì œê³µ, ì‚¬ê³  ê²½ì¤‘ íŒë‹¨, ë„ë‚œ ì•Œë¦¼** ë“±ì˜ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

**2023~2024ë…„ ì¶©ë‚¨ ì˜ˆì‚°êµ° ì‹œë²”ì‚¬ì—…ì—ì„œ ì‹¤ì‚¬ê³  6ê±´ ì „ë¶€ íƒì§€**,  
ì‚¬ê³  ì¬í™•ì¸ ëª¨ë¸ì˜ 100% ì •í™•ë„ë¥¼ ì…ì¦í–ˆìŠµë‹ˆë‹¤.

> í˜„ì¬ ìˆ˜ë¦¬ì´ë ¥ ê´€ë¦¬ ì‹œìŠ¤í…œê³¼ **ì‚¬ê³  íƒì§€ ì‹œìŠ¤í…œ ê°„ ì—°ê³„ë¥¼ ìœ„í•œ ì‚¬ì „ ì¸í”„ë¼ í†µí•© ì¤‘**ì´ë©°,  
> **ì¥ë¹„ ê³ ì¥ â†” ì‚¬ê³  ì´ë ¥ ê°„ ìƒê´€ê´€ê³„ ë¶„ì„**ê¹Œì§€ ë°œì „ì‹œí‚¬ ê³„íšì…ë‹ˆë‹¤.

---

## ğŸŒ± í–¥í›„ ê³„íš

- ìˆ˜ë¦¬ ë¹ˆë„ ê¸°ë°˜ ë¶€í’ˆ ìˆ˜ëª… ì˜ˆì¸¡ ê¸°ëŠ¥ ê°œë°œ  
- ì‚¬ìš©ì ëŒ€ì‹œë³´ë“œ ì‹œê°í™”  
- ë³µì§€ ì˜ˆì‚° ìë™ ì§‘ê³„ ê¸°ëŠ¥ ì¶”ê°€  
- ê³µê°œ API ì œê³µ ë° íƒ€ ê¸°ê´€ í™•ì‚° ê²€í† 

---

<div align="center">
  
  ## ğŸ”— Related Resources
  
  | ğŸ“˜ [Notion Project Page](https://jaeman-hyu.notion.site/1c4ec4b6449b80bca4f2d6413eb7e8ef?pvs=74) | ğŸ§¾ [Presentation PDF(ì¤‘ê°„ë°œí‘œ)](https://github.com/user-attachments/files/20057505/-.pdf)|
  |:---:|:---:|
</div>  

---  
<br>
<br>
<br>
<br>
<br>
<br>

# <a name="api"></a>ğŸ“˜ API ëª…ì„¸ì„œ (ë¹„ê°œë°œììš©) - Soorisoori ì‹œìŠ¤í…œ

ëª¨ë“  APIëŠ” Firebase ë¡œê·¸ì¸ ì´í›„ì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê° ìš”ì²­ì€ "ì‚¬ìš©ìê°€ ëˆ„êµ´ê¹Œ?"ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ë¡œê·¸ì¸ ì •ë³´ê°€ í•„ìš”í•©ë‹ˆë‹¤.

---

## ğŸ” 1. ì‚¬ìš©ì ì—­í•  ì¡°íšŒ

- **ì£¼ì†Œ**: `/auth/role`
- **ë°©ì‹**: GET
- **ì„¤ëª…**: ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ì—­í• (role)ì„ ì•Œë ¤ì¤ë‹ˆë‹¤.
- **ì„±ê³µ ì˜ˆì‹œ**:
```json
{ "role": "user" }
```
- **ì‹¤íŒ¨ ìƒí™©**: ë¡œê·¸ì¸ ì •ë³´ê°€ ì˜ëª»ë˜ì—ˆê±°ë‚˜, ì‚¬ìš©ìê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ

---

## ğŸ‘¤ 2. ì‚¬ìš©ì ë“±ë¡ (ì°¨ëŸ‰ê³¼ ì—°ê²°)

- **ì£¼ì†Œ**: `/users/{vehicleId}`
- **ë°©ì‹**: POST
- **ì„¤ëª…**: ì‚¬ìš©ìë¥¼ ìƒˆë¡œ ë“±ë¡í•˜ê³ , vehicleIdì— í•´ë‹¹ë˜ëŠ” ì°¨ëŸ‰ê³¼ ì—°ê²°í•©ë‹ˆë‹¤.
- **í•„ìˆ˜ ì •ë³´ (Body ì•ˆì— í¬í•¨)**:
  - ì´ë¦„(name)
  - ì°¨ëŸ‰ ëª¨ë¸ëª…(model)
  - êµ¬ë§¤ì¼ì(purchasedAt) â†’ ì˜ˆ: "2024-01-10T00:00:00.000Z"
  - ë“±ë¡ì¼ì(registeredAt)
  - ìˆ˜ì‹ ì ìœ í˜•(recipientType) â†’ ì˜ˆ: "user"
- **ì„±ê³µ ì˜ˆì‹œ**:
```json
{ "userId": "...", "name": "í™ê¸¸ë™", "phoneNumber": "01012345678", "role": "user", "recipientType": "user", "vehicleId": "abcd-1234" }
```
- **ì‹¤íŒ¨ ìƒí™©**:
  - í•´ë‹¹ ì°¨ëŸ‰ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒ
  - ì´ë¯¸ í•´ë‹¹ ì°¨ëŸ‰ì€ ëˆ„êµ°ê°€ê°€ ë“±ë¡í•¨
  - ì´ë¯¸ ì‚¬ìš©ìë¡œ ë“±ë¡ëœ ì „í™”ë²ˆí˜¸ì„
  - ë¡œê·¸ì¸ ì •ë³´ê°€ ìœ íš¨í•˜ì§€ ì•ŠìŒ

---

## ğŸš˜ 3. ì°¨ëŸ‰ ì •ë³´ ì¡°íšŒ

- **ì£¼ì†Œ**: `/vehicles/{vehicleId}`
- **ë°©ì‹**: GET
- **ì„¤ëª…**: ì°¨ëŸ‰ì— ì—°ê²°ëœ ì‚¬ìš©ì ì •ë³´ì™€ ê¸°ë³¸ ì°¨ëŸ‰ ì •ë³´ë¥¼ í™•ì¸í•©ë‹ˆë‹¤. vehicleIdë¥¼ ì œì™¸í•œ í•­ëª©ë“¤ì´ ë¹„ì–´ìˆë‹¤ë©´ ì£¼ì¸ì—†ëŠ” vehicle
- **ì„±ê³µ ì˜ˆì‹œ**:
```json
{ "userId": "ì‚¬ìš©ì ID", "vehicleId": "abcd-1234", "model": "íœ ì²´ì–´ 3000", "purchasedAt": "2024-01-10T00:00:00.000Z", "registeredAt": "2024-02-10T00:00:00.000Z" }
```
- **ì‹¤íŒ¨ ìƒí™©**:
  - ì°¨ëŸ‰ IDê°€ ì˜ëª»ë¨
  - ë¡œê·¸ì¸í•œ ì‚¬ëŒì´ í•´ë‹¹ ì°¨ëŸ‰ì˜ ì£¼ì¸ì´ ì•„ë‹˜

---

## ğŸ› ï¸ 4. ìˆ˜ë¦¬ ì´ë ¥ ì¡°íšŒ

- **ì£¼ì†Œ**: `/repairs/{vehicleId}`
- **ë°©ì‹**: GET
- **ì„¤ëª…**: ì°¨ëŸ‰ì˜ ëª¨ë“  ìˆ˜ë¦¬ ë‚´ì—­ì„ ê°€ì ¸ì˜µë‹ˆë‹¤. ê°€ì¥ ìµœê·¼ ìˆ˜ë¦¬ê°€ ë¨¼ì € ë‚˜ì˜µë‹ˆë‹¤.
- **ì„±ê³µ ì˜ˆì‹œ**:
```json
[ { "repairer": "í™ìˆ˜ë¦¬ê¸°ì‚¬", "repairStationCode": "ST01", "repairStationLabel": "ê°•ë‚¨ìˆ˜ë¦¬ì„¼í„°", "repairedDate": "2024-12-12T00:00:00.000Z", "billingPrice": 15000, "isAccident": false, "repairCategories": ["íƒ€ì´ì–´", "ê¸°íƒ€"], "batteryVoltage": 36.5, "etcRepairParts": "ë°°í„°ë¦¬ êµì²´", "memo": "ë¹„ìƒ ìˆ˜ë¦¬" } ]
```
- **ì‹¤íŒ¨ ìƒí™©**:
  - ì°¨ëŸ‰ IDê°€ ì˜ëª»ë¨
  - ë¡œê·¸ì¸í•œ ì‚¬ëŒì´ í•´ë‹¹ ì°¨ëŸ‰ì˜ ì£¼ì¸ì´ ì•„ë‹˜
  - ë¡œê·¸ì¸ ì •ë³´ê°€ ìœ íš¨í•˜ì§€ ì•ŠìŒ

---

## ğŸ› ï¸ 5. ìˆ˜ë¦¬ ì´ë ¥ ë“±ë¡

- **ì£¼ì†Œ**: `/repairs/{vehicleId}`
- **ë°©ì‹**: POST
- **ì„¤ëª…**: ì°¨ëŸ‰ì˜ ìƒˆë¡œìš´ ìˆ˜ë¦¬ ì •ë³´ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.
- **í•„ìˆ˜ ì •ë³´**:
  - ìˆ˜ë¦¬ì¼ì (`repairedDate`)
  - ìˆ˜ë¦¬ë¹„ (`billingPrice`)
  - ì‚¬ê³  ì—¬ë¶€ (`isAccident`: true/false)
  - ìˆ˜ë¦¬ í•­ëª© ëª©ë¡ (`repairCategories`: ì˜ˆ: ["íƒ€ì´ì–´", "ê¸°íƒ€"])
  - ë°°í„°ë¦¬ ì „ì•• (`batteryVoltage`)
  - ìˆ˜ë¦¬ê³µ ì´ë¦„ (`repairer`)
  - ê¸°íƒ€ ë¶€í’ˆ ì´ë¦„ (`etcRepairParts`, ì„ íƒ)
  - ë©”ëª¨ (`memo`, ì„ íƒ)
- **ì„±ê³µ ì˜ˆì‹œ**:
```json
{ "_id": "ìë™ìƒì„±ëœìˆ˜ë¦¬ID", ... }
```
- **ì‹¤íŒ¨ ìƒí™©**:
  - í•„ìˆ˜ í•­ëª©ì´ ë¹ ì¡Œê±°ë‚˜ í˜•ì‹ì´ í‹€ë¦¼
  - ìˆ˜ë¦¬ìê°€ ì•„ë‹˜
  - ì„œë²„ ì˜¤ë¥˜

---

## ğŸ§­ 6. ìˆ˜ë¦¬ì„¼í„° ëª©ë¡ ì¡°íšŒ

- **ì£¼ì†Œ**: `/repair-stations`
- **ë°©ì‹**: GET
- **ì„¤ëª…**: ì „êµ­ ìˆ˜ë¦¬ì„¼í„°ì˜ ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤. ìœ„ì¹˜ ì¢Œí‘œë„ í¬í•¨ë˜ì–´ ìˆì–´ ì§€ë„ì— í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì„±ê³µ ì˜ˆì‹œ**:
```json
{ "stations": [ { "code": "ST01", "state": "ì„œìš¸íŠ¹ë³„ì‹œ", "city": "ê°•ë‚¨êµ¬", "region": "ì—­ì‚¼ë™", "address": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123", "label": "ê°•ë‚¨ë³´ì¥êµ¬ìˆ˜ë¦¬ì„¼í„°", "telephone": "02-1234-5678", "coordinate": [127.12345, 37.12345] } ] }
```
- **ì‹¤íŒ¨ ìƒí™©**:
  - ì„œë²„ ì˜¤ë¥˜

---

## ğŸ“Œ ì¸ì¦ ê³µí†µ ì‚¬í•­

- ëª¨ë“  API ìš”ì²­ì€ ë¡œê·¸ì¸ í›„ ë°œê¸‰ëœ í† í°ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
- ì˜ˆì‹œ:  
```
Authorization: Bearer <ë¡œê·¸ì¸í•œ ì‚¬ìš©ì í† í°>
```
- ë¸Œë¼ìš°ì €ì—ì„œëŠ” ìë™ ì²˜ë¦¬ë˜ë©°, ì™¸ë¶€ì—ì„œ í…ŒìŠ¤íŠ¸í•  ê²½ìš° ìœ„ì˜ í˜•ì‹ì„ í—¤ë”ì— ì¶”ê°€í•©ë‹ˆë‹¤.

---  
<br>
<br>
<br>
<br>
<br>
<br>

# <a name="db"></a> ğŸ—‚ï¸ MongoDB Schema ëª…ì„¸ì„œ

MongoDB (Mongoose) ê¸°ë°˜ ë°ì´í„° ëª¨ë¸ ì„¤ëª…. ê° ëª¨ë¸ì€ `/lib/db/models/` ë””ë ‰í† ë¦¬ì— ì •ì˜ë˜ì–´ ìˆìŒ.

---
## ê³µí†µ Options
- `timestamps: true` createdAt, updatedAt ê´€ë¦¬ë¥¼ ìœ„í•¨
- `versionKey: false` mongooseì˜ ë²„ì „. package.jsonì—ì„œ í™•ì¸ ê°€ëŠ¥í•˜ë¯€ë¡œ ë¶ˆí•„ìš”í•œ field

## 1. Users

**Collection:** `users`  
**File:** `Users.js`

### Schema
| Field         | Type                     | Required | Unique | Description                          |
|---------------|--------------------------|----------|--------|--------------------------------------|
| firebaseUid   | String                   | âœ…       | âœ…     | Firebase UID                         |
| name          | String                   | âœ…       |        | ì‚¬ìš©ì ì´ë¦„                           |
| phoneNumber   | String                   | âœ…       |        | ì „í™”ë²ˆí˜¸                              |
| role          | Enum(String)             | âŒ       |        | ['user', 'admin', 'repairer', 'guardian'] (default: 'user') |
| recipientType | Enum(String)             | âŒ       |        | ['general', 'disabled', 'lowIncome'] (default: 'general') |
| guardianIds   | [ObjectId] (ref: guardians) | âŒ    |        | ë³´í˜¸ì ê´€ê³„ (N:1)                    |

---

## 2. Vehicles

**Collection:** `vehicles`  
**File:** `Vehicles.js`

### Schema
| Field         | Type                     | Required | Unique | Description                 |
|---------------|--------------------------|----------|--------|-----------------------------|
| vehicleId     | String                   | âœ…       | âœ…     | ì°¨ëŸ‰ ê³ ìœ  ID               |
| userId        | ObjectId (ref: users)    | âŒ       |        | ì°¨ëŸ‰ ì†Œìœ ì ID             |
| model         | String                   | âŒ       |        | ì°¨ëŸ‰ ëª¨ë¸ëª…                |
| purchasedAt   | Date                     | âŒ       |        | êµ¬ë§¤ ì¼ì                  |
| registeredAt  | Date                     | âŒ       |        | ë“±ë¡ ì¼ì                  |

---

## 3. Repairs

**Collection:** `repairs`  
**File:** `Repairs.js`

### Schema
| Field              | Type                      | Required | Description                             |
|--------------------|---------------------------|----------|-----------------------------------------|
| vehicleId          | ObjectId (ref: vehicles)  | âœ…       | ìˆ˜ë¦¬ ëŒ€ìƒ ì°¨ëŸ‰ ID                       |
| repairedDate       | Date                      | âœ…       | ìˆ˜ë¦¬ ë‚ ì§œ                               |
| billingPrice       | Number                    | âœ…       | ìˆ˜ë¦¬ ë¹„ìš©                               |
| isAccident         | Boolean                   | âœ…       | ì‚¬ê³  ìˆ˜ë¦¬ ì—¬ë¶€                          |
| repairStationCode  | String                    | âœ…       | ìˆ˜ë¦¬ì„¼í„° ì½”ë“œ                           |
| repairStationLabel | String                    | âœ…       | ìˆ˜ë¦¬ì„¼í„° ë¼ë²¨ (ì´ë¦„)                    |
| repairer           | String                    | âŒ       | ìˆ˜ë¦¬ ê¸°ì‚¬ ì´ë¦„                          |
| repairCategories   | [String]                    | âœ…       | ìˆ˜ë¦¬ í•­ëª© ëª©ë¡ (CSVí˜•íƒœ ë¬¸ìì—´)         |
| batteryVoltage     | Number                    | âŒ       | ë°°í„°ë¦¬ ì „ì••   - Categoriesì— 'ë°°í„°ë¦¬' í¬í•¨ëœ ê²½ìš°           |
| etcRepairParts     | String                    | âŒ       | ê¸°íƒ€ ìˆ˜ë¦¬ ë¶€í’ˆ     - Categoriesì— 'ê¸°íƒ€' í¬í•¨ëœ ê²½ìš°                  |
| memo               | String                    | âŒ       | ê´€ë¦¬ì ë©”ëª¨                              |

---

## 4. RepairStations

**Collection:** `repairstations`  
**File:** `RepairStations.js`

### Schema
| Field         | Type                 | Required | Description                            |
|---------------|----------------------|----------|----------------------------------------|
| code          | String               | âœ…       | ê³ ìœ  ìˆ˜ë¦¬ì„¼í„° ì½”ë“œ                     |
| firebaseUid   | String               | âŒ       | Firebase ì¸ì¦ì   - ì‚¬ì „ì— ë“±ë¡ë˜ì§€ ì•Šì€ ìˆ˜ë¦¬ì†Œì—ëŠ” ê³„ì •ì´ ì—†ê¸° ë•Œë¬¸ì— íŒ¨ìŠ¤                 |
| label         | String               | âœ…       | ìˆ˜ë¦¬ì„¼í„° ëª…ì¹­                          |
| state         | String               | âœ…       | ì‹œ/ë„                                  |
| city          | String               | âœ…       | ì‹œ/êµ°/êµ¬                               |
| region        | String               | âœ…       | ì§€ì—­ (ex. ì—­ì‚¼ë™)                      |
| address       | String               | âœ…       | ìƒì„¸ ì£¼ì†Œ                              |
| telephone     | String               | âœ…       | ì „í™”ë²ˆí˜¸                                |
| coordinate    | GeoJSON Point        | âœ…       | ì¢Œí‘œ ì •ë³´ (type: 'Point', [lng, lat]) |

### Indexes
- `{ coordinate: '2dsphere' }` for geo queries

---

## 5. Guardians

**Collection:** `guardians`  
**File:** `Guardians.js`

### Schema
| Field       | Type                      | Required | Unique | Description                   |
|-------------|---------------------------|----------|--------|-------------------------------|
| firebaseUid | String                    | âœ…       | âœ…     | ë³´í˜¸ì Firebase UID           |
| userId      | ObjectId (ref: users)     | âœ…       |        | ë³´í˜¸ìê°€ ë‹´ë‹¹í•˜ëŠ” ì‚¬ìš©ì ID  |

---

## ğŸ”„ ê´€ê³„ë„ (ERD ìš”ì•½)

```text
Users ---< Vehicles
Users ---< Guardians
Vehicles ---< Repairs
Repairs >--- RepairStations (code/label only, not ObjectId)
```

- One `User` can own multiple `Vehicles`
- One `Vehicle` can have multiple `Repairs`
- One `User` can have multiple `Guardians`
- `Repairs` reference `RepairStation` via `repairStationCode`/`label` (not strict ObjectId)

---

## ğŸ“ íŒŒì¼ êµ¬ì„± ìœ„ì¹˜

```
lib/
â””â”€â”€ db/
    â”œâ”€â”€ connect.js
    â”œâ”€â”€ models/
    â”‚   â”œâ”€â”€ Users.js
    â”‚   â”œâ”€â”€ Vehicles.js
    â”‚   â”œâ”€â”€ Repairs.js
    â”‚   â”œâ”€â”€ RepairStations.js
    â”‚   â”œâ”€â”€ Guardians.js
    â”‚   â””â”€â”€ index.js
```

---



---
#### [ë§¨ ìœ„ë¡œ ì´ë™](#top)
#### [API - Swagger](https://app.swaggerhub.com/apis/Jaemani/Soorisoori/1.0.0)
#### [API ëª…ì„¸ì„œ(ë¹„ê°œë°œììš©)](#api)
#### [MongoDB Schema ëª…ì„¸ì„œ](#db)
